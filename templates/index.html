<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<title>BlackBox AI Threat Detection</title>

<style>

body{
font-family:Segoe UI;
background:#f3f6fa;
padding:40px;
}

.container{
max-width:1000px;
margin:auto;
}

.card{
background:white;
padding:25px;
border-radius:12px;
box-shadow:0 0 15px rgba(0,0,0,.08);
margin-bottom:25px;
}

textarea{
width:100%;
height:120px;
padding:10px;
border-radius:8px;
border:1px solid #ccc;
}

button{
background:#ff3b3b;
color:white;
border:none;
padding:12px 25px;
border-radius:8px;
font-size:16px;
cursor:pointer;
margin-right:10px;
}

button:hover{
background:#d32f2f;
}

.badge{
padding:5px 10px;
border-radius:5px;
color:white;
}

.critical{background:red}
.medium{background:orange}

pre{
background:black;
color:#00ff00;
padding:15px;
border-radius:10px;
min-height:150px;
}

table{
width:100%;
border-collapse:collapse;
}

th,td{
border:1px solid #ccc;
padding:8px;
text-align:center;
}

</style>
</head>

<body>

<div class="container">

<h1 style="text-align:center">ðŸ›¡ BlackBox AI Threat Detection System</h1>

<div class="card">

<h3>Paste AI Output / Prompt</h3>

<textarea id="userInput"></textarea>

<br><br>

<button onclick="runAudit()">Run Safety Audit</button>
<button onclick="download()">Download Incident Report</button>

</div>

<div class="card">

<h3>Audit Result</h3>

<p>Case ID: <b id="case"></b></p>
<p>Time: <b id="time"></b></p>
<p>Risk Score: <b id="risk"></b></p>

<pre id="out">Waiting...</pre>

</div>

<div class="card">

<h3>Incident History</h3>

<table id="tbl"></table>

</div>

</div>

<script>

function runAudit(){

let input = document.getElementById("userInput").value;

fetch("/audit",{
method:"POST",
headers:{
"Content-Type":"application/json"
},
body:JSON.stringify({data:input})
})

.then(res=>res.json())
.then(d=>{

document.getElementById("case").innerText=d.case;
document.getElementById("time").innerText=d.time;

document.getElementById("risk").innerHTML =
d.risk+"% <span class='badge "+(d.level=="CRITICAL"?"critical":"medium")+"'>"+d.level+"</span>";

document.getElementById("out").innerText=d.threats.join("\n");

loadHistory();

});

}

function loadHistory(){

fetch("/history")
.then(res=>res.json())
.then(data=>{

let tbl=document.getElementById("tbl");
tbl.innerHTML="<tr><th>Case</th><th>Time</th><th>Risk</th></tr>";

data.forEach(r=>{
tbl.innerHTML+=`<tr><td>${r.case}</td><td>${r.time}</td><td>${r.risk}</td></tr>`;
});

});

}

function download(){
window.location="/download";
}

loadHistory();

</script>

</body>
</html>




















