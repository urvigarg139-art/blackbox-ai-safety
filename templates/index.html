<!DOCTYPE html>
<html>
<head>
<title>BlackBox AI Threat Detection</title>
<style>
body{font-family:Arial;background:#f4f6f9;padding:40px}
.card{background:white;padding:25px;border-radius:10px;margin-bottom:20px;box-shadow:0 3px 10px rgba(0,0,0,0.1)}
textarea{width:100%;height:120px;padding:10px}
button{padding:10px 20px;border:none;border-radius:6px;color:white;cursor:pointer;margin-top:10px}
.run{background:#ff3b3b}
.download{background:#ff6a00}
pre{background:black;color:#00ff00;padding:15px;border-radius:8px}
.progress{height:12px;background:#ddd;border-radius:6px;margin:10px 0}
.bar{height:12px;background:red;border-radius:6px}
</style>
</head>
<body>

<h2>ðŸ›¡ BlackBox AI Threat Detection System</h2>

<div class="card">
<textarea id="input" placeholder="Paste AI output / prompt here..."></textarea>
<br>
<button class="run" onclick="run()">Run Safety Audit</button>
<button class="download" onclick="window.location='/download'">Download Incident Report</button>
</div>

<div class="card" id="result" style="display:none">
<h3>Audit Result</h3>
<p><b>Case:</b> <span id="case"></span></p>
<p><b>Time:</b> <span id="time"></span></p>
<p><b>Risk:</b> <span id="risk"></span>% (<span id="level"></span>)</p>

<div class="progress">
<div class="bar" id="bar"></div>
</div>

<h4>Threats Detected</h4>
<pre id="threats"></pre>

<h4>Recommended Solutions</h4>
<pre id="solutions"></pre>

<h4>Prevention Strategy</h4>
<pre id="prevention"></pre>

</div>

<script>

function run(){

let text=document.getElementById("input").value;

fetch("/audit",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({data:text})
})
.then(r=>r.json())
.then(d=>{

if(d.error){
alert(d.error);
return;
}

document.getElementById("result").style.display="block";
document.getElementById("case").innerText=d.case;
document.getElementById("time").innerText=d.time;
document.getElementById("risk").innerText=d.risk;
document.getElementById("level").innerText=d.level;

document.getElementById("bar").style.width=d.risk+"%";

document.getElementById("threats").innerText=d.threats.join("\n");
document.getElementById("solutions").innerText=d.solutions.join("\n");
document.getElementById("prevention").innerText=d.prevention.join("\n");

});

}

</script>

</body>
</html>























