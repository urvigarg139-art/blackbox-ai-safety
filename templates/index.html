<!DOCTYPE html>
<html>
<head>
<title>BlackBox AI Threat Detection</title>
<style>
body{font-family:Arial;background:#f5f7fb;padding:30px}
.card{background:white;padding:20px;border-radius:10px;margin-bottom:20px}
button{background:red;color:white;border:none;padding:12px 20px;border-radius:6px}
pre{background:black;color:#00ff00;padding:15px}
table{width:100%}
</style>
</head>

<body>

<h1>ðŸ›¡ BlackBox AI Threat Detection System</h1>

<div class="card">
<button onclick="audit()">Run Safety Audit</button>
<button onclick="download()">Download Incident Report</button>
</div>

<div class="card">
<h2>Audit Result</h2>
<pre id="out">Waiting...</pre>
</div>

<div class="card">
<h2>Incident History</h2>
<table border="1" id="table"></table>
</div>

<script>
function audit(){
fetch("/run_audit",{method:"POST"})
.then(r=>r.json())
.then(d=>{
document.getElementById("out").innerText=
"CASE: "+d.case+
"\nRisk: "+d.risk+"%\nLocation:"+d.location+
"\n\n"+d.threats.join("\n");

loadHistory();
});
}

function loadHistory(){
fetch("/history")
.then(r=>r.json())
.then(rows=>{
let t="<tr><th>Case</th><th>Risk</th><th>Loc</th><th>Time</th></tr>";
rows.forEach(r=>{
t+=`<tr><td>${r[0]}</td><td>${r[1]}%</td><td>${r[2]}</td><td>${r[3]}</td></tr>`;
});
document.getElementById("table").innerHTML=t;
});
}

function download(){
window.location="/download";
}

loadHistory();
</script>

</body>
</html>











