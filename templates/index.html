<!DOCTYPE html>
<html>
<head>
<title>BlackBox AI Threat Detection</title>

<style>
body{
font-family:Arial;
background:#eef1f6;
padding:30px;
}

.card{
background:white;
padding:25px;
border-radius:12px;
margin-bottom:20px;
box-shadow:0 4px 10px rgba(0,0,0,.1);
}

textarea{
width:100%;
height:100px;
padding:10px;
border-radius:6px;
border:1px solid #ccc;
}

button{
padding:12px 20px;
border:none;
border-radius:6px;
background:#e63946;
color:white;
font-size:16px;
cursor:pointer;
margin-top:10px;
}

pre{
background:black;
color:#00ff00;
padding:15px;
border-radius:6px;
min-height:160px;
}

.badge{
background:red;
color:white;
padding:4px 10px;
border-radius:5px;
}

table{
width:100%;
border-collapse:collapse;
}

th,td{
padding:8px;
border:1px solid #ccc;
}
</style>
</head>

<body>

<h1>ðŸ›¡ BlackBox AI Threat Detection System</h1>

<div class="card">

<h3>Model Output / Prompt Input</h3>

<textarea id="input" placeholder="Paste AI output or prompt here..."></textarea>

<button onclick="run()">Run Safety Audit</button>

<a href="/download"><button>Download Incident Report</button></a>

</div>

<div class="card">

<h3>Audit Result</h3>

<p>Case ID: <span id="case"></span></p>
<p>Time: <span id="time"></span></p>
<p>Risk: <span id="risk"></span></p>

<pre id="out">Waiting...</pre>

</div>

<div class="card">
<h3>Incident History</h3>
<table id="tbl"></table>
</div>

<script>

function run(){

let txt=document.getElementById("input").value;

fetch("/audit",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({data:txt})
})
.then(r=>r.json())
.then(d=>{

caseBox.innerText=d.case;
time.innerText=d.time;
risk.innerHTML=d.risk+" <span class='badge'>"+d.level+"</span>";
out.innerText=d.threats.join("\n");

load();
})
}

function load(){

fetch("/history")
.then(r=>r.json())
.then(rows=>{

let html="<tr><th>Case</th><th>Time</th><th>Risk</th></tr>";

rows.forEach(r=>{
html+=`<tr><td>${r.case}</td><td>${r.time}</td><td>${r.risk}</td></tr>`;
});

tbl.innerHTML=html;

})

}

load();

</script>

</body>
</html>



















